!function(e){function t(t){for(var o,a,c=t[0],s=t[1],h=t[2],u=0,l=[];u<c.length;u++)a=c[u],i[a]&&l.push(i[a][0]),i[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);for(d&&d(t);l.length;)l.shift()();return r.push.apply(r,h||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,c=1;c<n.length;c++){var s=n[c];0!==i[s]&&(o=!1)}o&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},i={1:0},r=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},a.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="./";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var h=0;h<c.length;h++)t(c[h]);var d=s;r.push([62,0]),n()}({62:function(e,t,n){"use strict";n.r(t);n(16);var o=n(25),i=n(34),r=n(33),a=n.n(r);function c(e,t,n){e.clearRect(0,0,n.width,n.height),e.save(),e.scale(-1,1),e.translate(-n.width,0),e.drawImage(t,0,0,n.width,n.height),e.restore()}function s(e,t,n,o){for(const{score:i,position:r}of t)i<n||(e.beginPath(),e.arc(r.x*o.x,r.y*o.y,3,0,2*Math.PI),e.fillStyle="red",e.fill())}function h(e,t,n,i){const r=o.getAdjacentKeyPoints(t,n);for(const[{position:t},{position:n}]of r)e.beginPath(),e.moveTo(t.x*i.x,t.y*i.y),e.lineTo(n.x*i.x,n.y*i.y),e.lineWidth=2,e.strokeStyle="red",e.stroke()}window.onload=async function(){const{data:{posenetVersion:e,imageScaleFactor:t,outputStride:n,minPoseScore:r,minPartScore:d,frameSize:u}}=await i.get("./config.json"),l={width:window.innerWidth,height:window.innerHeight},w={x:l.width/u.width,y:l.height/u.height*u.height/u.width},[f,p]=await Promise.all([o.load(e),async function(e){const t=document.createElement("video");return t.width=e.width,t.height=e.height,t.srcObject=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}),await new Promise(e=>t.onloadedmetadata=e),t.play(),t}(u)]),g=document.createElement("canvas");g.width=u.width,g.height=u.height;const m=g.getContext("2d"),y=document.getElementById("output");y.width=l.width,y.height=l.height;const v=y.getContext("2d"),P=new a.a;for(P.showPanel(0),document.body.appendChild(P.dom);;){await new Promise(e=>requestAnimationFrame(e)),P.begin(),c(m,p,u);const{score:e,keypoints:o}=await f.estimateSinglePose(g,t,!1,n);c(v,p,l),e<r||(s(v,o,d,w),h(v,o,d,w),P.end())}}}});
//# sourceMappingURL=app.35f88720c830f1f98b61.js.map
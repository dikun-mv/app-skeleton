!function(t){function e(e){for(var o,a,s=e[0],c=e[1],h=e[2],d=0,p=[];d<s.length;d++)a=s[d],i[a]&&p.push(i[a][0]),i[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);for(u&&u(e);p.length;)p.shift()();return r.push.apply(r,h||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],o=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(o=!1)}o&&(r.splice(e--,1),t=a(a.s=n[0]))}return t}var o={},i={1:0},r=[];function a(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=o,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},a.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="./";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var h=0;h<s.length;h++)e(s[h]);var u=c;r.push([62,0]),n()}({62:function(t,e,n){"use strict";n.r(e);n(16);var o=n(24),i=n(34),r=n(33),a=n.n(r);async function s(t){return Promise.all(t.map(t=>(async function(t){const e=new Image;return e.src=t,await new Promise(t=>e.onload=t),e})(`./assets/${t}`)))}function c(t,e,n){t.clearRect(0,0,n.width,n.height),t.drawImage(e,0,0,n.width,n.height)}window.onload=async function(){const{data:{posenetVersion:t,imageScaleFactor:e,outputStride:n,minPoseScore:r,minPartScore:h,maxPoseDetections:u,nmsRadius:d,frameSize:p}}=await i.get("./config.json"),w={width:window.innerWidth,height:window.innerHeight},g=w.width/p.width,l=w.height/p.height*p.height/p.width,[f,m,y]=await Promise.all([o.load(t),async function(t){const e=document.createElement("video");return e.width=t.width,e.height=t.height,e.srcObject=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}),await new Promise(t=>e.onloadedmetadata=t),e.play(),e}(p),s(["face.png","left.png","right.png"])]),v=document.createElement("canvas");v.width=p.width,v.height=p.height;const x=v.getContext("2d"),P=document.getElementById("output");P.width=w.width,P.height=w.height;const M=P.getContext("2d");M.scale(-1,1),M.translate(-w.width,0);const b=new a.a;for(b.showPanel(0),document.body.appendChild(b.dom);;){await new Promise(t=>requestAnimationFrame(t)),b.begin(),c(x,m,p);const t=await f.estimateMultiplePoses(v,e,!1,n,u,h,d);c(M,m,w);for(const{score:e,keypoints:n}of t){if(e<r)continue;const t=o.getBoundingBoxPoints(n),i=Math.trunc((t[2].y-t[1].y)/p.height*10)/10;if(n[0].score>h){const t=10*Math.trunc(150*i/10),e=10*Math.trunc(150*i/10);M.drawImage(y[0],n[0].position.x*g-t/2,n[0].position.y*l-e/2,t,e)}if(n[9].score>h&&(n[9].position.x,n[5].position.x,p.width,(n[9].position.y-n[5].position.y)/-p.height>0)){const t=10*Math.trunc(150*i/10),e=10*Math.trunc(150*i/10),o=10*Math.trunc(50*i/10);M.drawImage(y[1],n[9].position.x*g-t/2,n[9].position.y*l-e/2-o,t,e)}if(n[10].score>h&&(n[10].position.x,n[6].position.x,p.width,(n[10].position.y-n[6].position.y)/-p.height>0)){const t=10*Math.trunc(150*i/10),e=10*Math.trunc(150*i/10),o=10*Math.trunc(50*i/10);M.drawImage(y[2],n[10].position.x*g-t/2,n[10].position.y*l-e/2-o,t,e)}}b.end()}}}});
//# sourceMappingURL=app.52bd3dfd351efe3be0db.js.map